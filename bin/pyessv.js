!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.PYESSV=e():t.PYESSV=e()}(window,function(){return function(t){var e={};function s(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);const r=(t,e)=>_.find(t,t=>t.canonicalName.toLowerCase()===e.toLowerCase());class i{constructor(t){_.each(_.keys(t),e=>{this[e]=t[e]})}}class n extends i{constructor(t){super(t),this.scopes=_.map(t.scopes,e=>new o(t,e))}getScope(t){return r(this.scopes,t)}}class o extends i{constructor(t,e){super(e),this.authority=t,this.collections=_.map(e.collections,s=>new c(t,e,s))}getCollection(t){return r(this.collections,t)}getTerms(t){let e=this.getCollection(t);if(e)return _.sortBy(e.terms,t=>_.has(t.data,"sortOrdinal")?t.data.sortOrdinal:t.canonicalName)}getTerm(t,e){let s=this.getCollection(t);if(s)return r(s.terms,e)}}class c extends i{constructor(t,e,s){super(s),this.authority=t,this.scope=e,this.terms=_.map(s.terms,r=>new u(t,e,s,r))}}class u extends i{constructor(t,e,s,r){super(r),this.authority=t,this.scope=e,this.collection=s}}class d extends o{constructor(t,e){super(t,e)}getModelTopic(t){return _.isUndefined(t)?this.getTerms("model-topic"):this.getTerm("model-topic",t)}}class a extends o{constructor(t,e){super(t,e)}getPidTaskAction(t){return _.isUndefined(t)?this.getTerms("pid-task-action"):this.getTerm("pid-task-action",t)}getPidTaskStatus(t){return _.isUndefined(t)?this.getTerms("pid-task-status"):this.getTerm("pid-task-status",t)}getProject(t){return _.isUndefined(t)?this.getTerms("project"):this.getTerm("project",t)}getSeverity(t){return _.isUndefined(t)?this.getTerms("severity"):this.getTerm("severity",t)}getStatus(t){return _.isUndefined(t)?this.getTerms("status"):this.getTerm("status",t)}}class p extends o{constructor(t,e){super(t,e)}}class l extends o{constructor(t,e){super(t,e)}getActivity(t){return _.isUndefined(t)?this.getTerms("activity-id"):this.getTerm("activity-id",t)}getExperiment(t){return _.isUndefined(t)?this.getTerms("experiment-id"):this.getTerm("experiment-id",t)}getInstitution(t){return _.isUndefined(t)?this.getTerms("institution-id"):this.getTerm("institution-id",t)}getSource(t){return _.isUndefined(t)?this.getTerms("source-id"):this.getTerm("source-id",t)}}class h extends o{constructor(t,e){super(t,e)}}class g extends o{constructor(t,e){super(t,e)}getMipEra(t){return _.isUndefined(t)?this.getTerms("mip-era"):this.getTerm("mip-era",t)}}s.d(e,"WCRP",function(){return m}),s.d(e,"ESDOC",function(){return f}),s.d(e,"initialise",function(){return x});let m=null,f=null;const T={dev:"http://localhost:5010",test:"https://test-api-pyessv.es-doc.org",prod:"https://api-pyessv.es-doc.org"}[(()=>window.location.host&&window.location.host.indexOf("es-doc.org")>=0?window.location.host.indexOf("test")>=0?"test":"prod":"dev")()]+"/1/retrieve",x=(t,e)=>{$.get(T).done(e=>{_.each(e.data,t=>{switch(t.canonicalName){case"wcrp":m=new class extends n{constructor(t){super(t),this.CMIP5=new p(t,this.getScope("cmip5")),this.CMIP6=new l(t,this.getScope("cmip6")),this.CORDEX=new h(t,this.getScope("cordex")),this.GLOBAL=new g(t,this.getScope("global"))}}(t);break;case"esdoc":f=new class extends n{constructor(t){super(t),this.CMIP6=new d(t,this.getScope("cmip6")),this.ERRATA=new a(t,this.getScope("errata"))}}(t)}}),t()}).fail(()=>{e()})}}])});